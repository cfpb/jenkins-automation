<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="cfGovMigrationsTests" tests="1" skipped="0" failures="0" errors="0" timestamp="2015-10-27T21:55:01" hostname="CFPB-rMBP15-Muchnick" time="0.098">
  <properties/>
  <testcase name="test cf.gov flow build job" classname="cfGovMigrationsTests" time="0.098"/>
  <system-out><![CDATA[import FlowJobBuilder

def cfGovDeployJob = new FlowJobBuilder(
        name: 'cf.gov',
        description: 'CF.gov master build flow job',
        jobs: []
).build(this)


cfGovDeployJob.parameters {
    booleanParam('DEPLOY_DJANGO', false)
    booleanParam('DEPLOY_WP', false)
    choiceParam('OPTION',
            [
                    'Staging',
                    '***PRODUCTION(cfproweb01)***',
                    '*** PRODUCTION(cfproweb02)*** '
            ])
}
cfGovDeployJob.buildFlow('''
            build("cf.gov-pfc-grunt-test")
            if (params.get("DEPLOY_DJANGO").equals("true")) {
                //build("cf.gov-django-dev-build-master")
                build("cf.gov-fab-deploy-django", DEPLOY_ENV: params.get("DEPLOY_ENV"))
            }

            if (params.get("DEPLOY_WP").equals("true")) {
                //build("cf.gov-wordpress-unit-tests")
                build("cf.gov-fab-deploy-wordpress", DEPLOY_ENV: params.get("DEPLOY_ENV"))
            }

            // Run load tests after deployment
            //build("cf.gov-load-test-production")
            build("cf.gov-postdeploy-smoketests", TEST_ENV: params.get("DEPLOY_ENV"))
    ''')
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
